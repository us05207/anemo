<html lang='ko'>
  <head>
    <meta charset='utf-8' />
    <link href='fullcalendar.main.css' rel='stylesheet' />
    <script src='fullcalendar.main.js'></script>

    <!--아래 두개는 tippy 관련된 스크립트-->
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');

        var calendar = new FullCalendar.Calendar(calendarEl, {
          //plugins: [ 'dayGrid' ],
          initialView: 'dayGridMonth', //초기화하기?

          timeZone: 'local', //사용자의 브라우저 시간대로 설정
          //timeZone: 'KST', //한국시간대 설정
          //locale: 'ko', //한국화 //영미권은 'en'

          //구글캘린더 연동
          googleCalendarApiKey: 'AIzaSyAJX_281hQzDB4cWMR0Dx-_3wY2z5g7BuE',//구글키         
          events: { 
            googleCalendarId: '1p8cl4kgf87ovr4entefhoaq34@group.calendar.google.com',
            className: 'gcal-event', // an option!
            color: '#C4D79B',//이벤트 컬러 지정
            eventDisplay:'block',
            //overlap: true,
            

          eventDidMount: function(info){
            tippy(info.el, {
              content: info.event.extendedProps.description, //이벤트 디스크립션을 툴팁으로 가져옴
            });
          },

            eventMouseEnter: function(info) { 
              tippy(info.el, {
              content:"ksljd"
            });

            //alert('Event: ' + info.event.title);
            //alert('Coordinates: ' + info.jsEvent.pageX + ',' + info.jsEvent.pageY);
            //alert('View: ' + info.view.type);
            // change the border color just for fun
            //info.el.style.borderColor = 'red';
          }

            //,backgroundColor: '#edf5dc',
            //display: 'background' //하루종일 일정 있을때만 변환. 시간이 지정된 일자는 월에서 표기안됨
          },


          expandRows: true,
          height: '100%',

          //상단의 툴바
          headerToolbar: {
            //locale: 'ko',
            left: 'prev,next today',
            center: 'title',
            right: 'dayGridMonth,listMonth'            
          },
          
          buttonText: { //툴바 한국어패치
            prev : "지난달",
            next : "다음달",
            today : "오늘"
            //month : "월별",
            //list : "list"
          },
          
          

          /*//안먹히는듯
          views: {
            locale:'ko',
            dayGridMonth: { // name of view
              titleFormat: { year: 'numeric', month: '2-digit', day: '2-digit' }
              // other view-specific options here
              
            }
          },
          */

          //List views. '7pm' <이렇게 보이도록
          //한국어 지원과 충돌됨
          eventTimeFormat: { 
            hour: 'numeric',
            minute: '2-digit',
            meridiem: 'short'
          },

          /*//이건 무슨 메소드지
          eventClick: function(calEvent, jsEvent, view){
            openModal(calEvent);
          },*/

          navLinks: false, //달력상의 날짜를 클릭할 수 있는지 여부
          eventLimit: true, //달력상에 셀 크기보다 많은 이벤트가 등록되어 있는 경우 more로 표기(default: false)
          selectable: true,
          dayMaxEvents: true, //너무 많은 이벤트가 있을 때 "more" 링크를 허락한다

          dayMaxEventRows: true, // for all non-TimeGrid views
          
          views: {
            timeGrid: {
              dayMaxEventRows: 6 // adjust to 6 only for timeGridWeek/timeGridDay
            }
          },

          


        });
        calendar.render();
        calendar.setOption('height', 700);//초기화 후 캘린더의 높이를 동적 세팅
        //calendar.setOption('locale', 'ko');//한글화


        tippy('#example', {
          content: "success",
          placement: 'right',
          arrow: true,
          arrowType: 'short',
          animation: 'shift-away-subtle',
          Interactivity: true,
          //followCursor: 'initial'
        })

      });

    </script>
    
    <style>
      body {
        /*overflow: hidden;*/
        margin: 40px 10px;
        padding: 0;
        font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
        font-size: 14px;
      }
      
      #calendar { /*이게 id인가???*/
        background: rgba(246, 255, 229, 0.247); /*캘린더 색상*/
        /*float: center;*/
        width: 100%;
        margin: 0 auto;
      }
      
      .fc-header-toolbar{
        padding-top: 1em;
        padding-left: 1em;
        padding-right: 1em;
      }




      .fc-day-number.fc-sat.fc-past { color:#0000FF; }     /* 토요일 */
      .fc-day-number.fc-sun.fc-past { color:#FF0000; }    /* 일요일 */

      :root{
        --fc-button-bg-color :  #c2d1a3 ; /*툴바 버튼 컬러*/
        --fc-button-active-bg-color: #7c8f57; /*툴바 선택된 버튼 컬러*/
        --fc-today-bg-color: rgba(196, 215, 155, 0.25);/*오늘 컬러*/

      }

    </style>
  </head>

  <body>
    <!--<div>
      <button id="example">예제용</button>
    </div>-->
      <div id='calendar'></div>
  </body>
</html>